<!DOCTYPE html>
<!-- NEU: Das lang-Attribut wird dynamisch vom Skript gesetzt -->
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- NEU: data-key fÃ¼r den Seitentitel hinzugefÃ¼gt -->
    <title data-key="pageTitle">Grillbert - Der Gemeinschmecker</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 50%, #a5d6a7 100%);
            min-height: 100vh;
            padding: 10px;
            line-height: 1.3;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(76, 175, 80, 0.1);
            padding: 20px;
            position: relative;
            overflow: hidden;
        }

        .container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, #4caf50, #66bb6a, #81c784);
            border-radius: 20px 20px 0 0;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center; /* Vertikal zentrieren */
            margin-bottom: 15px;
            gap: 15px;
        }

        .grillbert-image {
            width: 220px; /* Etwas kleiner fÃ¼r bessere Balance */
            height: 220px;
            border-radius: 50%;
            border: 3px solid #4caf50;
            box-shadow: 0 6px 15px rgba(76, 175, 80, 0.3);
            object-fit: contain;
            transition: transform 0.3s ease;
            flex-shrink: 0;
        }

        .grillbert-image:hover {
            transform: scale(1.05);
        }

        .qr-code {
            width: 120px;
            height: 120px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.2);
            flex-shrink: 0;
            margin-top:20px;
        }

        .title-section {
            flex: 1; /* Nimmt den verfÃ¼gbaren Platz ein */
            text-align: center; /* Zentriert die Ãœberschrift */
        }

        h1 {
            color: #2e7d32;
            font-size: 1.5rem; /* Ãœberschrift verkleinert */
            font-weight: 700;
            text-shadow: 0 2px 4px rgba(46, 125, 50, 0.1);
            line-height: 1.2;
        }

        .intro-text {
            color: #424242;
            font-size: 0.85rem;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #f1f8e9, #e8f5e8);
            padding: 12px;
            border-radius: 12px;
            border-left: 4px solid #4caf50;
            line-height: 1.3;
        }

        .rules-section {
            margin: 15px 0;
        }

        .rules-title {
            color: #2e7d32;
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 12px;
            text-align: center;
            padding: 10px;
            background: linear-gradient(135deg, #c8e6c9, #a5d6a7);
            border-radius: 12px;
            border: 2px solid #4caf50;
        }

        .rule {
            background: white;
            margin: 8px 0;
            padding: 12px;
            border-radius: 12px;
            border-left: 4px solid #66bb6a;
            box-shadow: 0 4px 12px rgba(102, 187, 106, 0.1);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .rule-number {
            color: #4caf50;
            font-weight: 700;
            font-size: 0.95rem;
        }

        .rule-text {
            color: #424242;
            margin-top: 5px;
            font-size: 0.85rem;
            line-height: 1.3;
        }

        .rule:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 187, 106, 0.15);
        }

        .sustainability-section {
            background: linear-gradient(135deg, #e8f5e8, #c8e6c9);
            padding: 15px;
            border-radius: 12px;
            margin: 15px 0;
            border: 2px solid #81c784;
            text-align: center;
        }

        .sustainability-title {
            color: #2e7d32;
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .sustainability-text {
            color: #424242;
            line-height: 1.3;
            font-size: 0.85rem;
        }

        .footer {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 15px;
        }

        .pdf-button {
            background: linear-gradient(135deg, #4caf50, #66bb6a);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .pdf-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
            background: linear-gradient(135deg, #388e3c, #4caf50);
        }

        .pdf-button:active {
            transform: translateY(0);
        }

        .emoji {
            font-size: 1.2em;
        }

        .pdf-logo {
            display: none; /* Logo auf der Webseite ausblenden */
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 12px;
                margin: 5px;
            }

            .grillbert-image {
                width: 80px;
                height: 80px;
            }

            .qr-code {
                width: 60px;
                height: 60px;
            }

            h1 {
                font-size: 1.2rem;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 1.1rem;
            }

            .grillbert-image {
                width: 60px;
                height: 60px;
            }

            .qr-code {
                width: 50px;
                height: 50px;
            }
        }

        /* Print Styles fÃ¼r PDF */
        @media print {
            @page {
                size: A4 portrait;
                margin: 1cm; /* Rand fÃ¼r den Druck definieren */
            }

            body {
                background: white !important;
                padding: 0 !important;
                line-height: 1.2 !important;
                position: relative;
            }

            /* Abschlussrahmen fÃ¼r den Druck */
            body::after {
                content: '';
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
                height: 10px;
                background: linear-gradient(90deg, #4caf50, #66bb6a, #81c784);
                print-color-adjust: exact;
                -webkit-print-color-adjust: exact;
            }

            .container {
                box-shadow: none !important;
                border: 2px solid #c8e6c9;
                border-radius: 15px;
                padding: 15px !important;
                margin: 0 !important;
                max-width: none !important;
            }

             /* NEU: Sprachwechsler im Druck ausblenden */
            .pdf-button, .footer, .language-switcher {
                display: none !important;
            }

            .grillbert-image,
            .qr-code {
                print-color-adjust: exact;
                -webkit-print-color-adjust: exact;
            }

            /* Logo nur im Druck anzeigen und positionieren */
            .pdf-logo {
                display: block;
                position: fixed;
                bottom: 0cm; /* Position Ã¼ber dem grÃ¼nen Abschlussbalken */
                left: 50%;
                transform: translateX(-50%);
                width: 190px; /* GrÃ¶ÃŸe des Logos */
                print-color-adjust: exact;
                -webkit-print-color-adjust: exact;
            }

            * {
                print-color-adjust: exact;
                -webkit-print-color-adjust: exact;
            }

            h1 {
                font-size: 1.4rem !important;
            }

            .rule-text {
                font-size: 0.8rem;
            }
        }

        /* NEU: Stil fÃ¼r den Sprachwechsler */
        .language-switcher {
            position: absolute;
            top: 15px;
            right: 20px;
            z-index: 10;
        }

        .language-switcher select {
            padding: 5px;
            border-radius: 8px;
            border: 1px solid #4caf50;
            background-color: white;
            font-size: 1rem;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">

<!-- NEU: VollstÃ¤ndiger Sprachwechsler mit allen 26 Sprachen -->
<div class="language-switcher">
    <select id="lang-switcher">
        <option value="de">ğŸ‡©ğŸ‡ª Deutsch</option>
        <option value="en">ğŸ‡¬ğŸ‡§ English</option>
        <option value="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
        <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
        <option value="it">ğŸ‡®ğŸ‡¹ Italiano</option>
        <option value="pt">ğŸ‡µğŸ‡¹ PortuguÃªs</option>
        <option value="nl">ğŸ‡³ğŸ‡± Nederlands</option>
        <option value="pl">ğŸ‡µğŸ‡± Polski</option>
        <option value="ru">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
        <option value="tr">ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e</option>
        <option value="ar">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
        <option value="arz">ğŸ‡ªğŸ‡¬ Ù…ØµØ±Ù‰</option>
        <option value="zh-cn">ğŸ‡¨ğŸ‡³ ä¸­æ–‡ (ç®€ä½“)</option>
        <option value="hi">ğŸ‡®ğŸ‡³ à¤¹à¤¿à¤¨à¥à¤¦à¥€</option>
        <option value="ur">ğŸ‡µğŸ‡° Ø§Ø±Ø¯Ùˆ</option>
        <option value="fa">ğŸ‡®ğŸ‡· ÙØ§Ø±Ø³ÛŒ</option>
        <option value="he">ğŸ‡®ğŸ‡± ×¢×‘×¨×™×ª</option>
        <option value="el">ğŸ‡¬ğŸ‡· Î•Î»Î»Î·Î½Î¹ÎºÎ¬</option>
        <option value="ro">ğŸ‡·ğŸ‡´ RomÃ¢nÄƒ</option>
        <option value="hu">ğŸ‡­ğŸ‡º Magyar</option>
        <option value="cs">ğŸ‡¨ğŸ‡¿ ÄŒeÅ¡tina</option>
        <option value="da">ğŸ‡©ğŸ‡° Dansk</option>
        <option value="sl">ğŸ‡¸ğŸ‡® SlovenÅ¡Äina</option>
        <option value="sw">ğŸ‡°ğŸ‡ª Kiswahili</option>
        <option value="ku">ğŸŒ KurdÃ®</option>
        <option value="de-ch">ğŸ‡¨ğŸ‡­ SchwiizerdÃ¼tsch</option>
    </select>
</div>



        <div class="header">
            <img src="https://raw.githubusercontent.com/Digid0t/DigiDot_5/main/Grillbert.png"
                 alt="Grillbert"
                 class="grillbert-image"
                 onerror="this.style.display='none'">
            <div class="title-section">
                <!-- NEU: data-key fÃ¼r die Ãœbersetzung -->
                <h1 data-key="welcomeTitle"><span class="emoji">ğŸ”¥</span> Willkommen am Grillplatz von Grillbert â€“ dem Gemeinschmecker! <span class="emoji">ğŸ´</span></h1>
            </div>
            <img src="https://raw.githubusercontent.com/Digid0t/DigiDot_5/main/grillbert_qr.png"
                 alt="QR Code"
                 class="qr-code"
                 onerror="this.style.display='none'">
        </div>

        <!-- NEU: data-key fÃ¼r die Ãœbersetzung -->
        <div class="intro-text" data-key="introText">
            Hier wacht Grillbert, unser frÃ¶hlicher Gemeinschaftsgrill, Ã¼ber die Glut der Geselligkeit. Mit seinen groÃŸen Augen, dem breiten Grinsen und dem erhobenen Zeigefinger erinnert er uns immer daran:<br>
            <strong>Grillen macht SpaÃŸ â€“ besonders, wenn alle mitdenken!</strong>
            <br><br>
            Dieser Platz gehÃ¶rt uns allen â€“ ob Nachbarn, Freunde, Familien oder hungrige SpaziergÃ¤nger. Grillbert steht bereit, wenn ihr gemeinsam genieÃŸen, lachen und euch eine gute Zeit machen wollt. Damit das so bleibt, gilt bei uns:
        </div>

        <div class="rules-section">
             <!-- NEU: data-key fÃ¼r die Ãœbersetzung -->
            <div class="rules-title" data-key="rulesTitle">
                <span class="emoji">âœ…</span> Grillberts 5 goldene Regeln fÃ¼r alle Glutfreunde
            </div>

            <div class="rule">
                <!-- NEU: data-keys fÃ¼r die Ãœbersetzung -->
                <div class="rule-number" data-key="rule1Title">1. Mach's dir gemÃ¼tlich â€“ aber hinterlass es sauber!</div>
                <div class="rule-text" data-key="rule1Text">Grillbert freut sich, wenn du den Grill nach dem Benutzen ordentlich auskehrst und keine Reste liegen lÃ¤sst.</div>
            </div>

            <div class="rule">
                <div class="rule-number" data-key="rule2Title">2. Bring deine Kohle â€“ und deine gute Laune!</div>
                <div class="rule-text" data-key="rule2Text">Jeder bringt mit, was er braucht. Der Platz ist gratis, der SpaÃŸ unbezahlbar.</div>
            </div>

            <div class="rule">
                <div class="rule-number" data-key="rule3Title">3. Teile die Glut, teile die Freude!</div>
                <div class="rule-text" data-key="rule3Text">Platz fÃ¼r alle â€“ sprich dich mit anderen ab, wenn's mal voll ist. Grillbert liebt Gesellschaft!</div>
            </div>

            <div class="rule">
                <div class="rule-number" data-key="rule4Title">4. KÃ¼hl bleiben und lÃ¶schen nicht vergessen!</div>
                <div class="rule-text" data-key="rule4Text">Sicherheit geht vor: Asche gut ablÃ¶schen, bevor du gehst.</div>
            </div>

            <div class="rule">
                <div class="rule-number" data-key="rule5Title">5. Mach ein Foto mit Grillbert!</div>
                <div class="rule-text" data-key="rule5Text">Und wenn du magst, poste es mit dem Hashtag <strong>#Gemeinschmecker</strong> â€“ zeig der Welt, wie schÃ¶n gemeinsames Grillen sein kann!</div>
            </div>
        </div>

        <div class="sustainability-section">
            <!-- NEU: data-keys fÃ¼r die Ãœbersetzung -->
            <div class="sustainability-title" data-key="sustainabilityTitle">
                <span class="emoji">ğŸ§½</span> Nachhaltiger Genuss â€“ von allen fÃ¼r alle
            </div>
            <div class="sustainability-text" data-key="sustainabilityText">
                Grillbert ist robust, freundlich und immer fÃ¼r euch da â€“ wenn ihr auch fÃ¼r ihn da seid. Ein sauberer Grill ist ein Zeichen von Respekt gegenÃ¼ber dem NÃ¤chsten.<br>
                <strong>So macht's SpaÃŸ â€“ heute, morgen und hoffentlich noch viele Sommer lang!</strong>
            </div>
        </div>

        <div class="footer">
            <!-- NEU: data-key fÃ¼r die Ãœbersetzung -->
            <button class="pdf-button" onclick="generatePDF()" data-key="pdfButton">
                <span class="emoji">ğŸ“„</span> Als PDF speichern
            </button>
        </div>
    </div>

    <!-- Dieses Logo wird NUR im PDF/Druck angezeigt -->
    <img src="https://raw.githubusercontent.com/Digid0t/DigiDot_5/main/DigiDot_5_QR.png"
         alt="NFC Scan Logo"
         class="pdf-logo">


<script>
    // Globale Variable fÃ¼r Ãœbersetzungen. Sie wird vom Ladeskript unten gefÃ¼llt.
    let translations = {};

    // Ihre PDF-Funktion. Greift auf die globale Variable "translations" zu.
    function generatePDF() {
        const originalTitle = document.title;
        const currentLang = document.documentElement.lang || 'de';
        document.title = translations[currentLang]?.pdfTitle || 'Grillbert - Gemeinschaftsgrill Regeln';
        window.print();
        setTimeout(() => {
            document.title = originalTitle;
        }, 1000);
    }

    // Ihr Fallback fÃ¼r Bilder.
    document.querySelectorAll('img').forEach(img => {
        img.addEventListener('error', function() {
            this.style.display = 'none';
            console.log('Bild konnte nicht geladen werden:', this.src);
        });
    });

    // --- Das finale Skript fÃ¼r die gesamte Sprachlogik ---
    document.addEventListener('DOMContentLoaded', async () => {

        // Die URL zu Ihrer JSON-Datei auf GitHub
        const translationsUrl = 'https://raw.githubusercontent.com/Digid0t/DigiDot_5/main/sprache.json';
        const langSwitcher = document.getElementById('lang-switcher');

        // Funktion zum Laden der Ãœbersetzungsdatei
        async function fetchTranslations() {
            try {
                const response = await fetch(translationsUrl);
                if (!response.ok) {
                    throw new Error(`Fehler beim Laden: ${response.status}`);
                }
                // FÃ¼llt die GLOBALE Variable "translations"
                translations = await response.json();
            } catch (error) {
                console.error("Die Ãœbersetzungsdatei konnte nicht geladen werden.", error);
                if (langSwitcher) langSwitcher.style.display = 'none';
            }
        }

        // Funktion, die die Sprache auf der Seite anwendet
        function setLanguage(lang) {
            if (!translations[lang]) {
                console.warn(`Sprache "${lang}" nicht gefunden, falle auf "de" zurÃ¼ck.`);
                lang = 'de';
            }

            document.documentElement.lang = lang;
            document.querySelectorAll('[data-key]').forEach(elem => {
                const key = elem.getAttribute('data-key');
                if (translations[lang] && translations[lang][key]) {
                    elem.innerHTML = translations[lang][key];
                }
            });

            localStorage.setItem('language', lang);
            if (langSwitcher) langSwitcher.value = lang;
        }

        // --- Haupt-Logik zur Sprachauswahl ---

        // 1. Zuerst die Ãœbersetzungen laden und abwarten.
        await fetchTranslations();

        // Funktion, um die beste Startsprache zu ermitteln.
        function getInitialLanguage() {
            // PrioritÃ¤t 1: Bereits gespeicherte Sprache des Benutzers
            const savedLang = localStorage.getItem('language');
            if (savedLang && translations[savedLang]) {
                return savedLang;
            }

            // PrioritÃ¤t 2: Beste Ãœbereinstimmung mit den Browser-Sprachen finden
            for (const browserLang of navigator.languages) {
                const langCode = browserLang.toLowerCase();
                const baseLangCode = langCode.split('-')[0];

                if (translations[langCode]) return langCode;
                if (translations[baseLangCode]) return baseLangCode;
            }

            // PrioritÃ¤t 3: Standard-Fallback auf Deutsch
            return 'de';
        }

        // 2. Die Startsprache ermitteln und anwenden.
        const initialLang = getInitialLanguage();
        setLanguage(initialLang);

        // 3. Den Event-Listener fÃ¼r den Sprachwechsler aktivieren.
        if (langSwitcher) {
            langSwitcher.addEventListener('change', (e) => {
                setLanguage(e.target.value);
            });
        }
    });
</script>
</body>
</html>
